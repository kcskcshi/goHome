(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{29069:(e,t,r)=>{"use strict";r.d(t,{A:()=>u});var s=r(95155),a=r(12115),n=r(91394),l=r(30285),i=r(66695),o=r(59434);function c(e){let{className:t,...r}=e;return(0,s.jsx)("div",{className:(0,o.cn)("animate-pulse rounded-md bg-muted",t),...r})}var d=r(51154);function u(e){let{nickname:t,userId:r,onCommute:o,commuteTime:u,isLoading:m=!1}=e,[f,x]=(0,a.useState)(null),h=async e=>{if(!m&&!f){x(e);try{await o(e)}finally{x(null)}}};return m?(0,s.jsxs)(i.Zp,{className:"w-full",children:[(0,s.jsx)(i.aR,{className:"pb-3",children:(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)(c,{className:"h-12 w-12 rounded-full"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(c,{className:"h-4 w-[200px]"}),(0,s.jsx)(c,{className:"h-3 w-[150px]"})]})]})}),(0,s.jsxs)(i.Wu,{className:"space-y-3",children:[(0,s.jsx)(c,{className:"h-9 w-full"}),(0,s.jsx)(c,{className:"h-9 w-full"})]})]}):(0,s.jsxs)(i.Zp,{className:"w-full",children:[(0,s.jsx)(i.aR,{className:"pb-3",children:(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsxs)(n.eu,{className:"h-12 w-12",children:[(0,s.jsx)(n.BK,{src:"https://api.dicebear.com/7.x/avataaars/svg?seed=".concat(encodeURIComponent(t),"&backgroundColor=transparent&radius=50"),alt:t}),(0,s.jsx)(n.q5,{className:"bg-primary text-primary-foreground text-lg",children:t.slice(0,2)})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)(i.ZB,{className:"text-base",children:t}),(0,s.jsx)(i.BT,{children:r})]})]})}),(0,s.jsxs)(i.Wu,{className:"space-y-3",children:[(0,s.jsx)(l.$,{variant:(null==u?void 0:u.start)?"secondary":"default",className:"w-full",disabled:!!f||!!(null==u?void 0:u.start),onClick:()=>h("출근"),children:"출근"===f?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.A,{className:"mr-2 h-4 w-4 animate-spin"}),"처리 중..."]}):(null==u?void 0:u.start)?"출근 완료 (".concat(u.start,")"):"출근하기"}),(0,s.jsx)(l.$,{variant:(null==u?void 0:u.end)?"secondary":"default",className:"w-full",disabled:!!f||!(null==u?void 0:u.start)||!!(null==u?void 0:u.end),onClick:()=>h("퇴근"),children:"퇴근"===f?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.A,{className:"mr-2 h-4 w-4 animate-spin"}),"처리 중..."]}):(null==u?void 0:u.end)?"퇴근 완료 (".concat(u.end,")"):"퇴근하기"})]})]})}},30285:(e,t,r)=>{"use strict";r.d(t,{$:()=>o});var s=r(95155);r(12115);var a=r(99708),n=r(74466),l=r(59434);let i=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function o(e){let{className:t,variant:r,size:n,asChild:o=!1,...c}=e,d=o?a.DX:"button";return(0,s.jsx)(d,{"data-slot":"button",className:(0,l.cn)(i({variant:r,size:n,className:t})),...c})}},43606:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>ed});var s=r(95155),a=r(12115),n=r(29069),l=r(62177),i=r(90221),o=r(68309),c=r(66695),d=r(30285),u=r(99708),m=r(59434),f=r(40968),x=r(74466);let h=(0,x.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),g=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(f.b,{ref:t,className:(0,m.cn)(h(),r),...a})});g.displayName=f.b.displayName;let p=l.Op,v=a.createContext({}),j=e=>{let{...t}=e;return(0,s.jsx)(v.Provider,{value:{name:t.name},children:(0,s.jsx)(l.xI,{...t})})},b=()=>{let e=a.useContext(v),t=a.useContext(y),{getFieldState:r}=(0,l.xW)(),s=(0,l.lN)({name:e.name}),n=r(e.name,s);if(!e)throw Error("useFormField should be used within <FormField>");let{id:i}=t;return{id:i,name:e.name,formItemId:"".concat(i,"-form-item"),formDescriptionId:"".concat(i,"-form-item-description"),formMessageId:"".concat(i,"-form-item-message"),...n}},y=a.createContext({});function N(e){let{className:t,...r}=e,n=a.useId();return(0,s.jsx)(y.Provider,{value:{id:n},children:(0,s.jsx)("div",{"data-slot":"form-item",className:(0,m.cn)("grid gap-2",t),...r})})}function w(e){let{className:t,...r}=e,{error:a,formItemId:n}=b();return(0,s.jsx)(g,{"data-slot":"form-label","data-error":!!a,className:(0,m.cn)("data-[error=true]:text-destructive",t),htmlFor:n,...r})}function S(e){let{...t}=e,{error:r,formItemId:a,formDescriptionId:n,formMessageId:l}=b();return(0,s.jsx)(u.DX,{"data-slot":"form-control",id:a,"aria-describedby":r?"".concat(n," ").concat(l):"".concat(n),"aria-invalid":!!r,...t})}function k(e){var t;let{className:r,...a}=e,{error:n,formMessageId:l}=b(),i=n?String(null!=(t=null==n?void 0:n.message)?t:""):a.children;return i?(0,s.jsx)("p",{"data-slot":"form-message",id:l,className:(0,m.cn)("text-destructive text-sm",r),...a,children:i}):null}let R=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("textarea",{className:(0,m.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...a})});R.displayName="Textarea";var C=r(51154);let T=[{emoji:"\uD83D\uDE0A",label:"행복"},{emoji:"\uD83D\uDE03",label:"신남"},{emoji:"\uD83D\uDE0C",label:"평온"},{emoji:"\uD83D\uDE34",label:"졸림"},{emoji:"\uD83D\uDE24",label:"열심"},{emoji:"\uD83D\uDE05",label:"힘듦"},{emoji:"\uD83D\uDE14",label:"우울"},{emoji:"\uD83D\uDE21",label:"화남"}],E=o.Ik({emoji:o.Yj().min(1,{message:"기분을 선택해주세요."}),message:o.Yj().min(1,{message:"메시지를 입력해주세요."}).max(100,{message:"메시지는 100자 이내로 입력해주세요."})});function I(e){let{onSubmit:t,isLoading:r=!1,disabled:a=!1}=e,n=(0,l.mN)({resolver:(0,i.u)(E),defaultValues:{emoji:"",message:""}});return(0,s.jsxs)(c.Zp,{className:"w-full",children:[(0,s.jsxs)(c.aR,{children:[(0,s.jsx)(c.ZB,{children:"오늘 기분은 어떠세요?"}),(0,s.jsx)(c.BT,{children:"하루의 감정을 이모지와 함께 기록해보세요"})]}),(0,s.jsx)(c.Wu,{children:(0,s.jsx)(p,{...n,children:(0,s.jsxs)("form",{onSubmit:n.handleSubmit(e=>{r||a||(t(e.emoji,e.message),n.reset())}),className:"space-y-4",children:[(0,s.jsx)(j,{control:n.control,name:"emoji",render:e=>{let{field:t}=e;return(0,s.jsxs)(N,{children:[(0,s.jsx)(w,{children:"기분 선택"}),(0,s.jsx)("div",{className:"grid grid-cols-4 gap-2",children:T.map(e=>(0,s.jsx)(d.$,{type:"button",variant:t.value===e.emoji?"default":"outline",size:"lg",className:"h-12 text-lg",onClick:()=>t.onChange(e.emoji),disabled:a,title:e.label,"aria-label":e.label,children:e.emoji},e.emoji))}),(0,s.jsx)(k,{})]})}}),(0,s.jsx)(j,{control:n.control,name:"message",render:e=>{let{field:t}=e;return(0,s.jsxs)(N,{children:[(0,s.jsx)(w,{children:"한 줄 메시지"}),(0,s.jsx)(S,{children:(0,s.jsx)(R,{...t,disabled:a||r,placeholder:"오늘 기분을 한 줄로 표현해보세요...",rows:2,maxLength:100})}),(0,s.jsxs)("div",{className:"text-right text-sm text-muted-foreground",children:[t.value.length,"/100"]}),(0,s.jsx)(k,{})]})}}),(0,s.jsx)(d.$,{type:"submit",className:"w-full",disabled:r||a,children:r?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(C.A,{className:"mr-2 h-4 w-4 animate-spin"}),"공유 중..."]}):"기분 공유하기"})]})})})]})}var _=r(54843),A=r(55028),D=r(22491),O=r(5200),F=r(25418),M=r.n(F);function B(e){let{uuid:t,nickname:r}=e,n=(0,a.useRef)(null),[l,i]=(0,a.useState)(0),[o,c]=(0,a.useState)(!1),{addGameScore:d,fetchDinoScores:u}=(0,O._)(),[m,f]=(0,a.useState)(""),[x,h]=(0,a.useState)(!1),g=(0,a.useRef)({x:50,y:110,vy:0,isJumping:!1}),p=(0,a.useRef)(0),v=(0,a.useRef)([]),j=(0,a.useRef)(6),b=(0,a.useRef)(0),y=e=>{("Space"===e.code||"ArrowUp"===e.code)&&(e.preventDefault(),p.current<2&&(g.current.vy=-9,g.current.isJumping=!0,p.current+=1))};(0,a.useEffect)(()=>(document.addEventListener("keydown",y),o||(b.current=requestAnimationFrame(N)),()=>{cancelAnimationFrame(b.current),document.removeEventListener("keydown",y)}),[o]),(0,a.useEffect)(()=>{o&&!x&&t&&r&&(async()=>{try{let e=await u();console.log("[DinoRunner] fetchDinoScores:",e);let s=e.find(e=>e.uuid===t);console.log("[DinoRunner] uuid:",t,"nickname:",r,"score:",l,"myScore:",s),!s||l>s.score?(console.log("[DinoRunner] addGameScore 호출"),await d(l,r,"dino"),f("신기록! 랭킹에 반영됩니다.")):f("기존 최고점 미달, 저장되지 않습니다."),h(!0)}catch(e){console.error("[DinoRunner] 저장 실패",e),f("저장 실패! 다시 시도해 주세요."),h(!0)}})(),o||(h(!1),f(""))},[o,t,r]);let N=()=>{var e,t;let r=n.current,s=null==r?void 0:r.getContext("2d");if(!s||o)return;s.fillStyle="#2d333b",s.fillRect(0,0,800,200),s.fillStyle="#444c56",s.fillRect(0,150,800,2),g.current.vy+=.6,g.current.y+=g.current.vy,g.current.y>=110&&(g.current.y=110,g.current.vy=0,g.current.isJumping=!1,p.current=0),e=g.current.x,t=g.current.y,s.fillStyle="#6ee7b7",s.fillRect(e+8,t+20,24,14),s.fillRect(e+12,t+34,6,6),s.fillRect(e+22,t+34,6,6),s.fillStyle="#34d399",s.fillRect(e,t+26,8,8),s.fillStyle="#6ee7b7",s.fillRect(e+28,t+10,10,10),s.fillStyle="#222",s.fillRect(e+36,t+14,2,2);let a=Math.floor(l/500),d=Math.min(.02+.005*a,.05),u=Math.min(14+2*a,30),m=Math.min(28+2*a,40);Math.random()<d&&v.current.push({x:800,y:150-m,width:u,height:m}),v.current.forEach(e=>{e.x-=j.current}),v.current=v.current.filter(e=>e.x+e.width>0),s.fillStyle="#2ea043",v.current.forEach(e=>{s.fillRect(e.x,e.y,e.width,e.height)});let f=!1;if(v.current.forEach(e=>{let t=g.current.x,r=g.current.y;t<e.x+e.width&&t+40>e.x&&r<e.y+e.height&&r+40>e.y&&(f=!0)}),f){c(!0),cancelAnimationFrame(b.current);return}s.fillStyle="#adbac7",s.font="16px Arial",s.fillText("Score: ".concat(l),10,20),i(e=>e+1),l>0&&l%500==0&&(j.current+=1),b.current=requestAnimationFrame(N)};return(0,s.jsxs)("div",{style:{textAlign:"center",padding:"20px",background:"#22272e",minHeight:"320px",borderRadius:"8px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",maxWidth:"100vw",overflowX:"hidden",boxSizing:"border-box"},children:[(0,s.jsx)("h2",{style:{color:"#adbac7"},children:"Dino Runner"}),(0,s.jsx)("canvas",{ref:n,width:800,height:200,style:{border:"1px solid #444c56",background:"#2d333b",borderRadius:"6px",display:"block",margin:"0 auto",maxWidth:"100%",height:"auto",boxSizing:"border-box"},onTouchStart:e=>{e.preventDefault(),p.current<2&&(g.current.vy=-9,g.current.isJumping=!0,p.current+=1)}}),(0,s.jsxs)("div",{style:{marginTop:"10px",color:"#adbac7"},children:["Score: ",l]}),o&&(0,s.jsxs)("div",{style:{marginTop:"16px"},children:[(0,s.jsx)("div",{style:{color:"#f85149",fontSize:"20px",marginBottom:"12px"},children:"Game Over!"}),(0,s.jsx)("div",{style:{color:"#adbac7",marginTop:8},children:m}),(0,s.jsx)("button",{onClick:()=>{g.current={x:50,y:110,vy:0,isJumping:!1},p.current=0,v.current=[],i(0),j.current=6,c(!1)},style:{background:"#238636",color:"#fff",border:"none",borderRadius:"6px",padding:"10px 28px",fontSize:"18px",fontWeight:600,cursor:"pointer",boxShadow:"0 2px 8px rgba(0,0,0,0.08)",transition:"background 0.2s"},children:"재시작"})]})]})}var U=r(51504),L=r.n(U),J=r(84801);function z(e){let{className:t,type:r,...a}=e;return(0,s.jsx)("input",{type:r,"data-slot":"input",className:(0,m.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...a})}var W=r(55863);let Z=a.forwardRef((e,t)=>{let{className:r,value:a,...n}=e;return(0,s.jsx)(W.bL,{ref:t,className:(0,m.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",r),...n,children:(0,s.jsx)(W.C1,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(a||0),"%)")}})})});Z.displayName=W.bL.displayName;let X=(0,x.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),V=a.forwardRef((e,t)=>{let{className:r,variant:a,...n}=e;return(0,s.jsx)("div",{ref:t,role:"alert",className:(0,m.cn)(X({variant:a}),r),...n})});V.displayName="Alert";let $=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("h5",{ref:t,className:(0,m.cn)("mb-1 font-medium leading-none tracking-tight",r),...a})});$.displayName="AlertTitle";let q=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,m.cn)("text-sm [&_p]:leading-relaxed",r),...a})});q.displayName="AlertDescription";var H=r(52814),P=r(81284),G=r(70463),K=r(40646);function Y(e){return M().d(e,!0).map(e=>e[0]).join("")}let Q="commantle-messages",ee="commantle-correct",et="commantle-hint",er={keyword:null,related:[],messages:[],loading:!0,error:null,feedback:null,isCorrect:!1,hintCount:0};function es(e,t){switch(t.type){case"INIT_SUCCESS":return{...e,...t.payload,loading:!1};case"INIT_ERROR":return{...e,error:t.payload,loading:!1};case"SUBMIT_ANSWER":return{...e,messages:t.payload.messages,feedback:t.payload.feedback};case"SET_CORRECT":return{...e,isCorrect:!0};case"SET_HINT_COUNT":return{...e,hintCount:t.payload};default:return e}}function ea(e){let{uuid:t,nickname:r}=e,[n,l]=(0,a.useReducer)(es,er),{keyword:i,related:o,messages:u,loading:f,error:x,feedback:h,isCorrect:g,hintCount:p}=n,[v,j]=(0,a.useState)(""),{addGameScore:b,fetchCommantleScores:y}=(0,O._)(),[N,w]=(0,a.useState)("commantle");(0,a.useEffect)(()=>{(async()=>{try{let e=await fetch("./commantle_keyword_list.json");if(!e.ok)throw Error("단어 리스트를 불러오지 못했습니다.");let t=await e.json();if(!t.words||!Array.isArray(t.words)||0===t.words.length)throw Error("단어 리스트가 비어있습니다.");let r=t.words,s=r[(()=>{let e=new Date,t=new Date(2024,0,1,0,0,0);return Math.floor((e.getTime()-t.getTime())/864e5)%r.length})()],a=new Date().toISOString().slice(0,10),n=JSON.parse(localStorage.getItem(Q)||"[]").filter(e=>e.date===a),i=JSON.parse(localStorage.getItem(ee)||"null"),o=i&&i.date===a&&i.keyword===s.keyword,c=JSON.parse(localStorage.getItem(et)||"null"),d=c&&c.date===a?c.count:0;l({type:"INIT_SUCCESS",payload:{keyword:s.keyword,related:s.related||[],messages:n,isCorrect:o,hintCount:d}})}catch(e){l({type:"INIT_ERROR",payload:e instanceof Error?e.message:"단어 불러오기 오류"})}})()},[]);let S=async e=>{if(e.preventDefault(),!v.trim()||!i)return;let t=new Date().toISOString().slice(0,10),s=(0,m.Q)(v.trim(),i),a=s>=1?{msg:"완벽하게 일치합니다!",emoji:"\uD83C\uDF89"}:s>=.75?{msg:"거의 맞췄어요!",emoji:"\uD83D\uDD25"}:s>=.5?{msg:"꽤 연관 있어요!",emoji:"\uD83D\uDE0E"}:s>=.3?{msg:"살짝 엇나갔네요",emoji:"\uD83E\uDD14"}:{msg:"노선이 좀 달라요...",emoji:"\uD83E\uDDCA"},n=[...u,{text:v.trim(),date:t,sim:s}];l({type:"SUBMIT_ANSWER",payload:{messages:n,feedback:{score:s,msg:a.msg,emoji:a.emoji}}}),localStorage.setItem(Q,JSON.stringify(n)),j(""),s<1?n.length>=30&&0===p&&(l({type:"SET_HINT_COUNT",payload:1}),localStorage.setItem(et,JSON.stringify({date:t,count:1}))):(l({type:"SET_CORRECT"}),localStorage.setItem(ee,JSON.stringify({date:t,keyword:i})),await b(n.length,r,"commantle"),"function"==typeof y&&await y())},k=[...u].filter(e=>"number"==typeof e.sim).sort((e,t)=>{var r,s;return(null!=(r=t.sim)?r:0)-(null!=(s=e.sim)?s:0)}).slice(0,5);return(0,s.jsxs)(c.Zp,{children:[(0,s.jsxs)(c.aR,{children:[(0,s.jsx)(c.ZB,{className:"text-lg",children:"꼬맨틀(Commantle) 게임"}),(0,s.jsxs)(c.BT,{children:["오늘의 제시어: ",(0,s.jsx)(H.E,{variant:"outline",children:f?"(로딩중)":i?Y(i):""})]})]}),(0,s.jsx)(c.Wu,{children:(0,s.jsxs)(J.tU,{value:N,onValueChange:e=>w(e),children:[(0,s.jsxs)(J.j7,{className:"grid w-full grid-cols-2",children:[(0,s.jsx)(J.Xi,{value:"commantle",children:"꼬맨틀"}),(0,s.jsx)(J.Xi,{value:"dino",children:"디노 러너"})]}),(0,s.jsxs)(J.av,{value:"commantle",className:"space-y-4",children:[(0,s.jsxs)(V,{children:[(0,s.jsx)(P.A,{className:"h-4 w-4"}),(0,s.jsx)(q,{children:"정확히 100% 일치해야 게임이 완료됩니다!"})]}),x&&(0,s.jsxs)(V,{variant:"destructive",children:[(0,s.jsx)($,{children:"오류"}),(0,s.jsx)(q,{children:x})]}),p>0&&(0,s.jsxs)(V,{className:"border-yellow-200 bg-yellow-50 text-yellow-800",children:[(0,s.jsx)(G.A,{className:"h-4 w-4"}),(0,s.jsx)($,{children:"힌트"}),(0,s.jsx)(q,{children:o&&o.length>0?L()(o,Math.min(3,o.length)).join(", "):Y(i||"")})]}),(0,s.jsxs)("form",{onSubmit:S,className:"flex gap-2",children:[(0,s.jsx)(z,{type:"text",placeholder:g?"정답을 맞추셨습니다!":"한 줄 멘트를 입력하세요",value:v,onChange:e=>j(e.target.value),disabled:f||g||!!x,className:"flex-1"}),(0,s.jsx)(d.$,{type:"submit",disabled:f||!v.trim()||g||!!x,children:"제출"})]}),h&&(0,s.jsx)(c.Zp,{className:"p-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"text-2xl",children:h.emoji}),(0,s.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("span",{className:"font-medium",children:["유사도: ",(100*h.score).toFixed(0),"%"]}),(0,s.jsx)("span",{className:"text-sm text-muted-foreground",children:h.msg})]}),(0,s.jsx)(Z,{value:100*h.score,className:"h-2"})]})]})}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("h4",{className:"text-sm font-medium",children:"오늘의 꼬맨틀"}),0===k.length?(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"아직 멘트가 없습니다."}):(0,s.jsx)("div",{className:"space-y-2",children:k.map((e,t)=>{var r;return(0,s.jsxs)(c.Zp,{className:"p-3",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-sm",children:e.text}),(0,s.jsxs)(H.E,{variant:"secondary",children:[(100*e.sim).toFixed(0),"%"]})]}),(0,s.jsx)(Z,{value:(null!=(r=e.sim)?r:0)*100,className:"h-1 mt-2"})]},t)})})]}),g&&(0,s.jsxs)(V,{className:"border-green-200 bg-green-50 text-green-800",children:[(0,s.jsx)(K.A,{className:"h-4 w-4"}),(0,s.jsx)($,{children:"축하합니다!"}),(0,s.jsx)(q,{children:"정답을 맞추셨습니다! 오늘은 더 이상 입력할 수 없습니다."})]})]}),(0,s.jsx)(J.av,{value:"dino",children:(0,s.jsx)(B,{uuid:t,nickname:r})})]})})]})}var en=r(19169);let el=(0,A.default)(()=>Promise.all([r.e(944),r.e(829)]).then(r.bind(r,50210)),{loadableGenerated:{webpack:()=>[50210]},ssr:!1}),ei=["꽃을 든","용기가 넘치는","희망찬","행복을 전하는","열정적인","상상력이 풍부한","긍정적인","에너지가 넘치는","웃음이 가득한","창의적인","빛나는","든든한","믿음직한","따뜻한","섬세한","도전적인","성실한","유쾌한","친절한","배려심 깊은"],eo=["개발자","요리사","디자이너","분석가","작가","음악가","화가","선생님","연구원","마케터","기획자","운동선수","사진작가","정원사","건축가","의사","간호사","파일럿","탐험가","예술가"];function ec(){let{nickname:e,isLoading:t,recordCommute:r,getTodayCommute:l,getTodayLeave:i,uuid:o}=(0,D.a)(),{addMood:c,fetchMoods:d,fetchCommutes:u}=(0,O._)(),{data:m}=(0,en.Ay)("commutes",u),{data:f}=(0,en.Ay)("moods",d),[x,h]=(0,a.useState)(!1),[g,p]=(0,a.useState)(!0),[v,j]=(0,a.useState)(""),b=(0,a.useRef)(null);(0,a.useEffect)(()=>{let e=setTimeout(()=>{p(!1)},2500);return()=>clearTimeout(e)},[]),(0,a.useEffect)(()=>{j(function(){let e=ei[Math.floor(Math.random()*ei.length)],t=eo[Math.floor(Math.random()*eo.length)];return"".concat(e," ").concat(t)}())},[]);let y=async e=>{try{await r(e)}catch(e){console.error("Commute recording failed:",e)}},N=async(t,r)=>{h(!0);try{let s={emoji:t,message:r,timestamp:Date.now(),nickname:e};await c(s),b.current&&"function"==typeof b.current.setActiveTab&&b.current.setActiveTab("moods")}catch(e){console.error("Mood submission failed:",e)}finally{h(!1)}},w=e=>new Date(e).toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"});return(0,s.jsx)("main",{className:"container mx-auto py-6",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,s.jsxs)("div",{className:"lg:col-span-1 space-y-6",children:[(0,s.jsx)(n.A,{nickname:v,userId:e,onCommute:y,commuteTime:{start:l()?w(l().timestamp):void 0,end:i()?w(i().timestamp):void 0},isLoading:t||g}),(0,s.jsx)(I,{onSubmit:N,isLoading:x,disabled:t||g})]}),(0,s.jsxs)("div",{className:"lg:col-span-3 space-y-6",children:[(0,s.jsx)(_.A,{commutes:m||[],moods:f||[],myUuid:o}),(0,s.jsx)(ea,{uuid:o,nickname:e}),(0,s.jsx)(el,{ref:b})]})]})})}function ed(){return(0,s.jsx)(ec,{})}},84801:(e,t,r)=>{"use strict";r.d(t,{Xi:()=>c,av:()=>d,j7:()=>o,tU:()=>i});var s=r(95155),a=r(12115),n=r(60704),l=r(59434);let i=n.bL,o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(n.B8,{ref:t,className:(0,l.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",r),...a})});o.displayName=n.B8.displayName;let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(n.l9,{ref:t,className:(0,l.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",r),...a})});c.displayName=n.l9.displayName;let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(n.UC,{ref:t,className:(0,l.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",r),...a})});d.displayName=n.UC.displayName},85954:(e,t,r)=>{Promise.resolve().then(r.bind(r,43606))},91394:(e,t,r)=>{"use strict";r.d(t,{BK:()=>o,eu:()=>i,q5:()=>c});var s=r(95155),a=r(12115),n=r(54011),l=r(59434);let i=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(n.bL,{ref:t,className:(0,l.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",r),...a})});i.displayName=n.bL.displayName;let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(n._V,{ref:t,className:(0,l.cn)("aspect-square h-full w-full",r),...a})});o.displayName=n._V.displayName;let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(n.H4,{ref:t,className:(0,l.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",r),...a})});c.displayName=n.H4.displayName}},e=>{var t=t=>e(e.s=t);e.O(0,[131,281,322,291,261,441,684,358],()=>t(85954)),_N_E=e.O()}]);