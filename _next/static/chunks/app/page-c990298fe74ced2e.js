(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{2056:(e,t,s)=>{"use strict";s.d(t,{$2:()=>d,Et:()=>c,bl:()=>a,yv:()=>n});let i={COMMUTE_RECORDS:"go-home-commute-records",MOOD_DATA:"go-home-mood-data"};function r(){try{let e=localStorage.getItem(i.COMMUTE_RECORDS);return e?JSON.parse(e):[]}catch(e){return[]}}function a(e){try{let t=r();t.push(e),localStorage.setItem(i.COMMUTE_RECORDS,JSON.stringify(t))}catch(e){console.error("Failed to save commute record:",e)}}function l(){try{let e=localStorage.getItem(i.MOOD_DATA);return e?JSON.parse(e):[]}catch(e){return[]}}function d(e){try{let t=l();t.push(e),localStorage.setItem(i.MOOD_DATA,JSON.stringify(t))}catch(e){console.error("Failed to save mood data:",e)}}function n(){let e=r(),t=new Date().toDateString();return e.filter(e=>new Date(e.timestamp).toDateString()===t)}function c(){let e=l(),t=new Date().toDateString();return e.filter(e=>new Date(e.timestamp).toDateString()===t)}},5010:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});var i=s(5155);function r(e){let{mood:t}=e;return(0,i.jsx)("div",{className:"bg-github-card border border-github-border rounded-lg p-4 hover:border-github-muted transition-colors",children:(0,i.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,i.jsx)("div",{className:"text-3xl",children:t.emoji}),(0,i.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,i.jsx)("div",{className:"text-github-text font-medium truncate",children:t.nickname}),(0,i.jsx)("div",{className:"text-github-muted text-sm flex-shrink-0",children:new Date(t.timestamp).toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"})})]}),(0,i.jsx)("div",{className:"text-github-text text-sm leading-relaxed",children:t.message})]})]})})}},6755:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>h});var i=s(5155),r=s(2115);function a(e){let{type:t,onClick:s,disabled:a=!1,isLoading:l=!1,hasRecorded:d=!1,recordTime:n}=e,[c,o]=(0,r.useState)(!1),m=async()=>{if(!a&&!l){o(!0);try{await s()}finally{o(!1)}}};return(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsxs)("button",{onClick:m,disabled:a||l||d,className:"\n          w-full py-4 px-6 rounded-lg font-medium text-lg transition-all duration-200\n          ".concat(d?"bg-github-muted text-github-text cursor-not-allowed":"출근"===t?"bg-github-green hover:bg-github-green-hover text-white":"bg-orange-600 hover:bg-orange-700 text-white","\n          ").concat(c?"scale-95":"","\n          ").concat(a||l||d?"opacity-50 cursor-not-allowed":"hover:shadow-lg","\n        "),children:[l&&(0,i.jsx)("div",{className:"inline-block animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),l?"처리 중...":d?"".concat(t," 완료"):t]}),d&&n&&(0,i.jsx)("div",{className:"text-center",children:(0,i.jsxs)("div",{className:"text-github-muted text-sm",children:[t," 시간: ",n]})})]})}let l=[{emoji:"\uD83D\uDE0A",label:"행복"},{emoji:"\uD83D\uDE03",label:"신남"},{emoji:"\uD83D\uDE0C",label:"평온"},{emoji:"\uD83D\uDE34",label:"졸림"},{emoji:"\uD83D\uDE24",label:"열심"},{emoji:"\uD83D\uDE05",label:"힘듦"},{emoji:"\uD83D\uDE14",label:"우울"},{emoji:"\uD83D\uDE21",label:"화남"}];function d(e){let{onSubmit:t,isLoading:s=!1,disabled:a=!1}=e,[d,n]=(0,r.useState)(""),[c,o]=(0,r.useState)("");return(0,i.jsxs)("div",{className:"bg-github-card border border-github-border rounded-lg p-6",children:[(0,i.jsx)("h3",{className:"text-github-text font-medium mb-4",children:"오늘 기분은 어떠세요?"}),(0,i.jsxs)("form",{onSubmit:e=>{e.preventDefault(),d&&c.trim()&&!s&&!a&&(t(d,c.trim()),o(""))},className:"space-y-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-github-muted text-sm mb-2",children:"기분 선택"}),(0,i.jsx)("div",{className:"grid grid-cols-4 gap-2",children:l.map(e=>(0,i.jsx)("button",{type:"button",onClick:()=>n(e.emoji),disabled:a,className:"\n                  p-3 rounded-lg text-2xl transition-all duration-200\n                  ".concat(d===e.emoji?"bg-github-green text-white":"bg-github-bg border border-github-border text-github-text hover:border-github-muted","\n                  ").concat(a?"opacity-50 cursor-not-allowed":"hover:scale-105","\n                "),title:e.label,children:e.emoji},e.emoji))})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{htmlFor:"message",className:"block text-github-muted text-sm mb-2",children:"한 줄 메시지"}),(0,i.jsx)("textarea",{id:"message",value:c,onChange:e=>o(e.target.value),disabled:a||s,placeholder:"오늘 기분을 한 줄로 표현해보세요...",className:"w-full px-3 py-2 bg-github-bg border border-github-border rounded-md text-github-text placeholder-github-muted resize-none focus:outline-none focus:border-github-green",rows:3,maxLength:100}),(0,i.jsxs)("div",{className:"text-right text-github-muted text-xs mt-1",children:[c.length,"/100"]})]}),(0,i.jsx)("button",{type:"submit",disabled:!d||!c.trim()||s||a,className:"\n            w-full py-3 px-4 rounded-md font-medium transition-all duration-200\n            ".concat(d&&c.trim()&&!s&&!a?"bg-github-green hover:bg-github-green-hover text-white":"bg-github-muted text-github-text cursor-not-allowed opacity-50","\n          "),children:s?(0,i.jsxs)("div",{className:"flex items-center justify-center",children:[(0,i.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"공유 중..."]}):"기분 공유하기"})]})]})}var n=s(2056);function c(){let[e,t]=(0,r.useState)({totalUsers:0,earlyBird:"아직 없음",nightOwl:"아직 없음",moodDistribution:[],commuteTimes:[]});(0,r.useEffect)(()=>{let e=()=>{let e=(0,n.yv)(),s=(0,n.Et)(),i=new Set([...s.map(e=>e.nickname),...e.map(e=>e.nickname)]).size,r=e.filter(e=>"출근"===e.type).sort((e,t)=>e.timestamp-t.timestamp)[0],a=e.filter(e=>"퇴근"===e.type).sort((e,t)=>t.timestamp-e.timestamp)[0],l={};s.forEach(e=>{l[e.emoji]=(l[e.emoji]||0)+1});let d=Object.entries(l).map(e=>{let[t,s]=e;return{emoji:t,count:s}}).sort((e,t)=>t.count-e.count).slice(0,5),c={};e.forEach(e=>{let t=new Date(e.timestamp).getHours();c[t]=(c[t]||0)+1});let o=Object.entries(c).map(e=>{let[t,s]=e;return{hour:parseInt(t),count:s}}).sort((e,t)=>e.hour-t.hour);t({totalUsers:i,earlyBird:(null==r?void 0:r.nickname)||"아직 없음",nightOwl:(null==a?void 0:a.nickname)||"아직 없음",moodDistribution:d,commuteTimes:o})};e();let s=setInterval(e,3e4);return()=>clearInterval(s)},[]);let s=e=>Math.max(...e.map(e=>e.count),1);return(0,i.jsxs)("div",{className:"bg-github-card border border-github-border rounded-lg p-6",children:[(0,i.jsx)("h2",{className:"text-github-text font-medium mb-6",children:"\uD83D\uDCCA 오늘의 통계"}),(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("div",{className:"text-2xl font-bold text-github-green mb-1",children:e.totalUsers}),(0,i.jsx)("div",{className:"text-github-muted text-sm",children:"참여자"})]}),(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("div",{className:"text-2xl font-bold text-yellow-500 mb-1",children:"\uD83C\uDF05"}),(0,i.jsx)("div",{className:"text-github-muted text-sm",children:"출근왕"}),(0,i.jsx)("div",{className:"text-github-text text-xs mt-1 truncate",children:e.earlyBird})]}),(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("div",{className:"text-2xl font-bold text-purple-500 mb-1",children:"\uD83C\uDF19"}),(0,i.jsx)("div",{className:"text-github-muted text-sm",children:"칼퇴왕"}),(0,i.jsx)("div",{className:"text-github-text text-xs mt-1 truncate",children:e.nightOwl})]})]}),e.moodDistribution.length>0&&(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"text-github-text text-sm font-medium mb-3",children:"\uD83D\uDE0A 기분 분포"}),(0,i.jsx)("div",{className:"space-y-2",children:e.moodDistribution.map(t=>{let r=t.count/s(e.moodDistribution)*100;return(0,i.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,i.jsx)("div",{className:"text-lg w-6",children:t.emoji}),(0,i.jsx)("div",{className:"flex-1",children:(0,i.jsx)("div",{className:"bg-github-bg rounded-full h-3 overflow-hidden",children:(0,i.jsx)("div",{className:"bg-gradient-to-r from-github-green to-green-400 h-full rounded-full transition-all duration-500",style:{width:"".concat(r,"%")}})})}),(0,i.jsx)("div",{className:"text-github-muted text-xs w-8 text-right",children:t.count})]},t.emoji)})})]}),e.commuteTimes.length>0&&(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"text-github-text text-sm font-medium mb-3",children:"⏰ 출퇴근 시간 분포"}),(0,i.jsx)("div",{className:"flex items-end space-x-1 h-20",children:Array.from({length:24},(t,r)=>{var a;let l=(null==(a=e.commuteTimes.find(e=>e.hour===r))?void 0:a.count)||0,d=l>0?l/s(e.commuteTimes)*100:0;return(0,i.jsxs)("div",{className:"flex-1 flex flex-col items-center",children:[(0,i.jsx)("div",{className:"bg-gradient-to-t from-github-green to-green-400 rounded-t w-full transition-all duration-500",style:{height:"".concat(d,"%")}}),(0,i.jsx)("div",{className:"text-github-muted text-xs mt-1",children:r.toString().padStart(2,"0")})]},r)})})]}),0===e.totalUsers&&(0,i.jsxs)("div",{className:"text-center py-8",children:[(0,i.jsx)("div",{className:"text-4xl mb-4",children:"\uD83D\uDCC8"}),(0,i.jsx)("div",{className:"text-github-muted",children:"아직 데이터가 없어요."}),(0,i.jsx)("div",{className:"text-github-muted text-sm mt-2",children:"첫 번째로 출근/퇴근을 기록해보세요!"})]})]})]})}var o=s(5010);function m(){let[e,t]=(0,r.useState)([]),[s,a]=(0,r.useState)([]),[l,d]=(0,r.useState)(!0),[c,m]=(0,r.useState)("moods");(0,r.useEffect)(()=>{let e=()=>{let e=(0,n.Et)(),s=(0,n.yv)();t(e.sort((e,t)=>t.timestamp-e.timestamp)),a(s.sort((e,t)=>t.timestamp-e.timestamp)),d(!1)};e();let s=setInterval(e,3e4);return()=>clearInterval(s)},[]);let u=e=>new Date(e).toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"});return l?(0,i.jsx)("div",{className:"bg-github-card border border-github-border rounded-lg p-6",children:(0,i.jsxs)("div",{className:"flex items-center justify-center h-32",children:[(0,i.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-github-green"}),(0,i.jsx)("span",{className:"ml-2 text-github-text",children:"피드 로딩 중..."})]})}):(0,i.jsxs)("div",{className:"bg-github-card border border-github-border rounded-lg",children:[(0,i.jsx)("div",{className:"border-b border-github-border",children:(0,i.jsxs)("div",{className:"flex",children:[(0,i.jsxs)("button",{onClick:()=>m("moods"),className:"flex-1 py-3 px-4 text-sm font-medium transition-colors ".concat("moods"===c?"text-github-green border-b-2 border-github-green":"text-github-muted hover:text-github-text"),children:["\uD83D\uDE0A 기분 (",e.length,")"]}),(0,i.jsxs)("button",{onClick:()=>m("commutes"),className:"flex-1 py-3 px-4 text-sm font-medium transition-colors ".concat("commutes"===c?"text-github-green border-b-2 border-github-green":"text-github-muted hover:text-github-text"),children:["⏰ 출퇴근 (",s.length,")"]})]})}),(0,i.jsx)("div",{className:"p-6",children:"moods"===c?(0,i.jsxs)("div",{className:"space-y-4",children:[e.length>0?e.slice(0,5).map((e,t)=>(0,i.jsx)(o.A,{mood:e},"".concat(e.timestamp,"-").concat(t))):(0,i.jsxs)("div",{className:"text-center py-8",children:[(0,i.jsx)("div",{className:"text-3xl mb-3",children:"\uD83D\uDE34"}),(0,i.jsx)("div",{className:"text-github-muted",children:"아직 아무도 기분을 공유하지 않았어요."}),(0,i.jsx)("div",{className:"text-github-muted text-sm mt-2",children:"첫 번째로 기분을 공유해보세요!"})]}),e.length>5&&(0,i.jsx)("div",{className:"text-center pt-4",children:(0,i.jsxs)("div",{className:"text-github-muted text-sm",children:["+",e.length-5,"개의 기분 더 보기"]})})]}):(0,i.jsxs)("div",{className:"space-y-3",children:[s.length>0?s.slice(0,8).map(e=>(0,i.jsxs)("div",{className:"flex items-center justify-between p-3 bg-github-bg rounded-md",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,i.jsx)("div",{className:"text-lg ".concat("출근"===e.type?"text-github-green":"text-orange-500"),children:"출근"===e.type?"\uD83C\uDF05":"\uD83C\uDFE0"}),(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"text-github-text font-medium",children:e.nickname}),(0,i.jsx)("div",{className:"text-github-muted text-sm",children:e.type})]})]}),(0,i.jsx)("div",{className:"text-github-muted text-sm",children:u(e.timestamp)})]},e.id)):(0,i.jsxs)("div",{className:"text-center py-8",children:[(0,i.jsx)("div",{className:"text-3xl mb-3",children:"⏰"}),(0,i.jsx)("div",{className:"text-github-muted",children:"아직 아무도 출퇴근을 기록하지 않았어요."}),(0,i.jsx)("div",{className:"text-github-muted text-sm mt-2",children:"첫 번째로 출근/퇴근을 기록해보세요!"})]}),s.length>8&&(0,i.jsx)("div",{className:"text-center pt-4",children:(0,i.jsxs)("div",{className:"text-github-muted text-sm",children:["+",s.length-8,"개의 기록 더 보기"]})})]})})]})}let u=["즐거운","신나는","평온한","활기찬","차분한","열정적인","창의적인","꼼꼼한","친절한","유쾌한","진지한","유연한","성실한","도전적인","긍정적인","배려하는","책임감있는","협력하는"],x=["개발자","디자이너","기획자","마케터","영업사원","회계사","의사","교사","엔지니어","작가","예술가","요리사","운동선수","음악가","사진작가","여행자","독서가","요가인"];function h(){let{nickname:e,isLoading:t,recordCommute:s,getTodayCommute:l,getTodayLeave:o,hasCommutedToday:h,hasLeftToday:b}=function(){let[e,t]=(0,r.useState)([]),[s,i]=(0,r.useState)(""),[a,l]=(0,r.useState)(!1);(0,r.useEffect)(()=>{let e=localStorage.getItem("go-home-nickname");if(e)i(e);else{let e=function(){let e=u[Math.floor(Math.random()*u.length)],t=x[Math.floor(Math.random()*x.length)],s=Math.floor(9999*Math.random())+1;return"".concat(e).concat(t).concat(s)}();i(e),localStorage.setItem("go-home-nickname",e)}t((0,n.yv)())},[]);let d=async e=>{l(!0);try{let i={id:"".concat(Date.now(),"-").concat(Math.random()),type:e,timestamp:Date.now(),nickname:s};return(0,n.bl)(i),t((0,n.yv)()),i}catch(e){throw console.error("Failed to record commute:",e),e}finally{l(!1)}};return{todayRecords:e,nickname:s,isLoading:a,recordCommute:d,getTodayCommute:()=>e.find(e=>"출근"===e.type),getTodayLeave:()=>e.find(e=>"퇴근"===e.type),hasCommutedToday:()=>e.some(e=>"출근"===e.type),hasLeftToday:()=>e.some(e=>"퇴근"===e.type)}}(),[g,j]=(0,r.useState)(!1);(0,r.useEffect)(()=>{document.documentElement.classList.add("dark")},[]);let v=async e=>{try{await s(e)}catch(e){console.error("Commute recording failed:",e)}},N=async(t,s)=>{j(!0);try{let i={emoji:t,message:s,timestamp:Date.now(),nickname:e};(0,n.$2)(i),alert("기분이 성공적으로 공유되었습니다!")}catch(e){console.error("Mood submission failed:",e),alert("기분 공유에 실패했습니다. 다시 시도해주세요.")}finally{j(!1)}},p=e=>new Date(e).toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"});return(0,i.jsxs)("div",{className:"min-h-screen bg-github-bg text-github-text",children:[(0,i.jsx)("header",{className:"border-b border-github-border bg-github-card",children:(0,i.jsx)("div",{className:"max-w-4xl mx-auto px-4 py-4",children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,i.jsx)("div",{className:"text-2xl",children:"\uD83C\uDFE0"}),(0,i.jsx)("h1",{className:"text-xl font-bold",children:"아 집에가고싶다"})]}),(0,i.jsx)("div",{className:"text-github-muted text-sm",children:e})]})})}),(0,i.jsx)("main",{className:"max-w-4xl mx-auto px-4 py-8",children:(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)("div",{className:"bg-github-card border border-github-border rounded-lg p-6",children:[(0,i.jsx)("h2",{className:"text-github-text font-medium mb-4",children:"오늘의 출퇴근"}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,i.jsx)(a,{type:"출근",onClick:()=>v("출근"),isLoading:t,hasRecorded:h(),recordTime:l()?p(l().timestamp):void 0}),(0,i.jsx)(a,{type:"퇴근",onClick:()=>v("퇴근"),isLoading:t,hasRecorded:b(),recordTime:o()?p(o().timestamp):void 0})]})]}),(0,i.jsx)(d,{onSubmit:N,isLoading:g,disabled:t}),(0,i.jsx)(c,{}),(0,i.jsx)(m,{})]})}),(0,i.jsx)("footer",{className:"border-t border-github-border bg-github-card mt-12",children:(0,i.jsx)("div",{className:"max-w-4xl mx-auto px-4 py-6",children:(0,i.jsxs)("div",{className:"text-center text-github-muted text-sm",children:[(0,i.jsx)("p",{children:"“오늘도 출근했습니다. 그리고 기분은요...”"}),(0,i.jsx)("p",{className:"mt-2",children:"\xa9 2024 아 집에가고싶다"})]})})})]})}},8400:(e,t,s)=>{Promise.resolve().then(s.bind(s,6755))}},e=>{var t=t=>e(e.s=t);e.O(0,[441,684,358],()=>t(8400)),_N_E=e.O()}]);