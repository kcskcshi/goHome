(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{2056:(e,t,s)=>{"use strict";s.d(t,{Et:()=>r,J9:()=>n,ND:()=>l,yv:()=>i});let a={COMMUTE_RECORDS:"go-home-commute-records",MOOD_DATA:"go-home-mood-data"};function i(){let e=function(){try{let e=localStorage.getItem(a.COMMUTE_RECORDS);return e?JSON.parse(e):[]}catch(e){return[]}}(),t=new Date().toDateString();return e.filter(e=>new Date(e.timestamp).toDateString()===t)}function r(){let e=function(){try{let e=localStorage.getItem(a.MOOD_DATA);return e?JSON.parse(e):[]}catch(e){return[]}}(),t=new Date().toDateString();return e.filter(e=>new Date(e.timestamp).toDateString()===t)}function l(){return localStorage.getItem("go-home-uuid")}function n(e){localStorage.setItem("go-home-uuid",e)}},5010:(e,t,s)=>{"use strict";s.d(t,{A:()=>i});var a=s(5155);function i(e){let{mood:t}=e;return(0,a.jsx)("div",{className:"bg-github-card border border-github-border rounded-lg p-4 hover:border-github-muted transition-colors",children:(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,a.jsx)("div",{className:"text-3xl",children:t.emoji}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("div",{className:"text-github-text font-medium truncate",children:t.nickname}),(0,a.jsx)("div",{className:"text-github-muted text-sm flex-shrink-0",children:new Date(t.timestamp).toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"})})]}),(0,a.jsx)("div",{className:"text-github-text text-sm leading-relaxed",children:t.message})]})]})})}},8400:(e,t,s)=>{Promise.resolve().then(s.bind(s,9373))},9373:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>C});var a=s(5155),i=s(2115);function r(e){let{type:t,onClick:s,disabled:r=!1,isLoading:l=!1,hasRecorded:n=!1,recordTime:c}=e,[d,o]=(0,i.useState)(!1),m=async()=>{if(!r&&!l){o(!0);try{await s()}finally{o(!1)}}};return(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("button",{onClick:m,disabled:r||l||n,className:"\n          w-full py-4 px-6 rounded-lg font-medium text-lg transition-all duration-200\n          ".concat(n?"bg-github-muted text-github-text cursor-not-allowed":"출근"===t?"bg-github-green hover:bg-github-green-hover text-white":"bg-orange-600 hover:bg-orange-700 text-white","\n          ").concat(d?"scale-95":"","\n          ").concat(r||l||n?"opacity-50 cursor-not-allowed":"hover:shadow-lg","\n        "),children:[l&&(0,a.jsx)("div",{className:"inline-block animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),l?"처리 중...":n?"".concat(t," 완료"):t]}),n&&c&&(0,a.jsx)("div",{className:"text-center",children:(0,a.jsxs)("div",{className:"text-github-muted text-sm",children:[t," 시간: ",c]})})]})}let l=[{emoji:"\uD83D\uDE0A",label:"행복"},{emoji:"\uD83D\uDE03",label:"신남"},{emoji:"\uD83D\uDE0C",label:"평온"},{emoji:"\uD83D\uDE34",label:"졸림"},{emoji:"\uD83D\uDE24",label:"열심"},{emoji:"\uD83D\uDE05",label:"힘듦"},{emoji:"\uD83D\uDE14",label:"우울"},{emoji:"\uD83D\uDE21",label:"화남"}];function n(e){let{onSubmit:t,isLoading:s=!1,disabled:r=!1}=e,[n,c]=(0,i.useState)(""),[d,o]=(0,i.useState)("");return(0,a.jsxs)("div",{className:"bg-github-card border border-github-border rounded-lg p-6",children:[(0,a.jsx)("h3",{className:"text-github-text font-medium mb-4",children:"오늘 기분은 어떠세요?"}),(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault(),n&&d.trim()&&!s&&!r&&(t(n,d.trim()),o(""))},className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-github-muted text-sm mb-2",children:"기분 선택"}),(0,a.jsx)("div",{className:"grid grid-cols-4 gap-2",children:l.map(e=>(0,a.jsx)("button",{type:"button",onClick:()=>c(e.emoji),disabled:r,className:"\n                  p-3 rounded-lg text-2xl transition-all duration-200\n                  ".concat(n===e.emoji?"bg-github-green text-white":"bg-github-bg border border-github-border text-github-text hover:border-github-muted","\n                  ").concat(r?"opacity-50 cursor-not-allowed":"hover:scale-105","\n                "),title:e.label,children:e.emoji},e.emoji))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"message",className:"block text-github-muted text-sm mb-2",children:"한 줄 메시지"}),(0,a.jsx)("textarea",{id:"message",value:d,onChange:e=>o(e.target.value),disabled:r||s,placeholder:"오늘 기분을 한 줄로 표현해보세요...",className:"w-full px-3 py-2 bg-github-bg border border-github-border rounded-md text-github-text placeholder-github-muted resize-none focus:outline-none focus:border-github-green",rows:3,maxLength:100}),(0,a.jsxs)("div",{className:"text-right text-github-muted text-xs mt-1",children:[d.length,"/100"]})]}),(0,a.jsx)("button",{type:"submit",disabled:!n||!d.trim()||s||r,className:"\n            w-full py-3 px-4 rounded-md font-medium transition-all duration-200\n            ".concat(n&&d.trim()&&!s&&!r?"bg-github-green hover:bg-github-green-hover text-white":"bg-github-muted text-github-text cursor-not-allowed opacity-50","\n          "),children:s?(0,a.jsxs)("div",{className:"flex items-center justify-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"공유 중..."]}):"기분 공유하기"})]})]})}var c=s(4065),d=s(2502);function o(e){let{commutes:t,moods:s,myUuid:r}=e,[l,n]=(0,i.useState)({totalUsers:0,earlyBird:"아직 없음",nightOwl:"아직 없음",moodDistribution:[],commuteTimesGo:[],commuteTimesLeave:[],myGoRank:null,myLeaveRank:null,goTotal:0,leaveTotal:0});return(0,i.useEffect)(()=>{let e=new Date,a=new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime(),i=a+864e5,l=t.filter(e=>e.timestamp>=a&&e.timestamp<i),c=s.filter(e=>e.timestamp>=a&&e.timestamp<i),d=l.filter(e=>"출근"===e.type).sort((e,t)=>e.timestamp-t.timestamp),o=l.filter(e=>"퇴근"===e.type).sort((e,t)=>e.timestamp-t.timestamp),m=d.findIndex(e=>e.uuid===r),u=o.findIndex(e=>e.uuid===r),h=new Set([...c.map(e=>e.nickname),...l.map(e=>e.nickname)]).size,x=d[0],b=o[o.length-1],g={};c.forEach(e=>{g[e.emoji]=(g[e.emoji]||0)+1});let p=Object.entries(g).map(e=>{let[t,s]=e;return{emoji:t,count:s}}).sort((e,t)=>t.count-e.count).slice(0,5),j={};d.forEach(e=>{let t=new Date(e.timestamp).getHours();j[t]=(j[t]||0)+1});let f=Object.entries(j).map(e=>{let[t,s]=e;return{hour:parseInt(t),count:s}}).sort((e,t)=>e.hour-t.hour),v={};o.forEach(e=>{let t=new Date(e.timestamp).getHours();v[t]=(v[t]||0)+1});let N=Object.entries(v).map(e=>{let[t,s]=e;return{hour:parseInt(t),count:s}}).sort((e,t)=>e.hour-t.hour);n({totalUsers:h,earlyBird:(null==x?void 0:x.nickname)||"아직 없음",nightOwl:(null==b?void 0:b.nickname)||"아직 없음",moodDistribution:p,commuteTimesGo:f,commuteTimesLeave:N,myGoRank:m>=0?m+1:null,myLeaveRank:u>=0?u+1:null,goTotal:d.length,leaveTotal:o.length})},[t,s,r]),(0,a.jsxs)("div",{className:"bg-github-card border border-github-border rounded-lg p-6",children:[(0,a.jsx)("h2",{className:"text-github-text font-medium mb-6",children:"\uD83D\uDCCA 오늘의 통계"}),(l.myGoRank||l.myLeaveRank)&&(0,a.jsxs)("div",{className:"mb-4 text-center",children:[(0,a.jsx)("span",{className:"font-bold text-github-green",children:l.myGoRank?"출근 ".concat(l.myGoRank,"등"):""}),l.myGoRank&&l.myLeaveRank&&(0,a.jsx)("span",{className:"mx-2",children:"|"}),(0,a.jsx)("span",{className:"font-bold text-purple-500",children:l.myLeaveRank?"퇴근 ".concat(l.myLeaveRank,"등"):""}),(0,a.jsxs)("span",{className:"ml-2 text-github-muted text-xs",children:["(출근 ",l.goTotal,"명, 퇴근 ",l.leaveTotal,"명)"]})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-github-green mb-1",children:l.totalUsers}),(0,a.jsx)("div",{className:"text-github-muted text-sm",children:"참여자"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-yellow-500 mb-1",children:"\uD83C\uDF05"}),(0,a.jsx)("div",{className:"text-github-muted text-sm",children:"출근왕"}),(0,a.jsx)("div",{className:"text-github-text text-xs mt-1 truncate",children:l.earlyBird})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-purple-500 mb-1",children:"\uD83C\uDF19"}),(0,a.jsx)("div",{className:"text-github-muted text-sm",children:"칼퇴왕"}),(0,a.jsx)("div",{className:"text-github-text text-xs mt-1 truncate",children:l.nightOwl})]})]}),l.moodDistribution.length>0&&(0,a.jsxs)("div",{className:"bg-github-card border border-github-border rounded-lg p-4 mb-6 shadow-sm",children:[(0,a.jsxs)("h3",{className:"text-github-text text-sm font-medium mb-3 flex items-center",children:[(0,a.jsx)("span",{className:"w-2 h-2 rounded-full bg-green-400 mr-2"}),"기분 분포 (Radar Chart)"]}),(0,a.jsx)(c.Vd,{data:{labels:l.moodDistribution.map(e=>e.emoji),datasets:[{label:"기분 분포",data:l.moodDistribution.map(e=>e.count),backgroundColor:"rgba(34,197,94,0.2)",borderColor:"rgba(34,197,94,1)",borderWidth:2,pointBackgroundColor:"rgba(34,197,94,1)",pointBorderColor:"#fff",pointRadius:5}]},options:{responsive:!0,plugins:{legend:{display:!1}},scales:{r:{angleLines:{display:!1},grid:{color:"#333"},pointLabels:{color:"#fff",font:{size:16}},ticks:{color:"#fff",stepSize:1,backdropColor:"transparent"},min:0}}},style:{maxWidth:400,margin:"0 auto"}})]}),l.commuteTimesGo.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-github-text text-sm font-medium mb-3",children:"\uD83C\uDF05 출근 시간 분포"}),(0,a.jsx)("div",{className:"flex items-end space-x-1 h-20",children:Array.from({length:24},(e,t)=>{var s;let i=(null==(s=l.commuteTimesGo.find(e=>e.hour===t))?void 0:s.count)||0,r=i>0?i/(l.goTotal||1)*100:0;return(0,a.jsxs)("div",{className:"flex-1 flex flex-col items-center",children:[i>0?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"bg-gradient-to-t from-green-600 to-green-800 rounded-t w-full transition-all duration-500 min-h-[10px] border border-green-900",style:{height:"".concat(r,"%")}}),(0,a.jsx)("div",{className:"text-xs font-bold text-green-200 -mt-5 mb-1 text-center select-none",style:{zIndex:1},children:i})]}):(0,a.jsx)("div",{className:"w-full",style:{height:0}}),(0,a.jsx)("div",{className:"text-github-muted text-xs mt-1",children:t.toString().padStart(2,"0")})]},t)})})]}),l.commuteTimesLeave.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-github-text text-sm font-medium mb-3",children:"\uD83C\uDF19 퇴근 시간 분포"}),(0,a.jsx)("div",{className:"flex items-end space-x-1 h-20",children:Array.from({length:24},(e,t)=>{var s;let i=(null==(s=l.commuteTimesLeave.find(e=>e.hour===t))?void 0:s.count)||0,r=i>0?i/(l.leaveTotal||1)*100:0;return(0,a.jsxs)("div",{className:"flex-1 flex flex-col items-center",children:[i>0?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"bg-gradient-to-t from-red-600 to-red-800 rounded-t w-full transition-all duration-500 min-h-[10px] border border-red-900",style:{height:"".concat(r,"%")}}),(0,a.jsx)("div",{className:"text-xs font-bold text-red-200 -mt-5 mb-1 text-center select-none",style:{zIndex:1},children:i})]}):(0,a.jsx)("div",{className:"w-full",style:{height:0}}),(0,a.jsx)("div",{className:"text-github-muted text-xs mt-1",children:t.toString().padStart(2,"0")})]},t)})})]}),0===l.totalUsers&&(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)("div",{className:"text-4xl mb-4",children:"\uD83D\uDCC8"}),(0,a.jsx)("div",{className:"text-github-muted",children:"아직 데이터가 없어요."}),(0,a.jsx)("div",{className:"text-github-muted text-sm mt-2",children:"첫 번째로 출근/퇴근을 기록해보세요!"})]})]})]})}d.t1.register(d.pr,d.FN,d.No,d.dN,d.m_,d.s$);var m=s(5010),u=s(5647);let h="https://yrrmtcvviactkmxibodu.supabase.co",x="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inlycm10Y3Z2aWFjdGtteGlib2R1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTE0NDA4MjYsImV4cCI6MjA2NzAxNjgyNn0.K1ZxrtCWKCLLpPNJf0CkR0H7LRNsvMb07Uy2TuFXwh0",b=()=>{if(!h||!x)throw Error("Supabase 환경변수가 누락되었습니다.");return(0,u.UU)(h,x)},g=()=>{let[e,t]=(0,i.useState)([]),[s,a]=(0,i.useState)([]),[r,l]=(0,i.useState)(!0),n=async()=>{try{let{data:e,error:s}=await b().from("commutes").select("*").order("timestamp",{ascending:!1}).limit(50);if(s)throw s;t(e||[])}catch(e){console.error("출퇴근 기록 가져오기 실패:",e)}},c=async()=>{try{let{data:e,error:t}=await b().from("moods").select("*").order("timestamp",{ascending:!1}).limit(50);if(t)throw t;a(e||[])}catch(e){console.error("기분 데이터 가져오기 실패:",e)}},d=async e=>{try{let{error:t}=await b().from("commutes").insert([e]);if(t)throw t;await n()}catch(e){throw console.error("출퇴근 기록 추가 실패:",e),e}},o=async e=>{try{let{error:t}=await b().from("moods").insert([e]);if(t)throw t;await c()}catch(e){throw console.error("기분 데이터 추가 실패:",e),e}};return(0,i.useEffect)(()=>{(async()=>{l(!0),await Promise.all([n(),c()]),l(!1)})();let e=b(),t=e.channel("commutes_changes").on("postgres_changes",{event:"*",schema:"public",table:"commutes"},()=>{n()}).subscribe(),s=e.channel("moods_changes").on("postgres_changes",{event:"*",schema:"public",table:"moods"},()=>{c()}).subscribe();return()=>{t.unsubscribe(),s.unsubscribe()}},[]),{commutes:e,moods:s,loading:r,addCommute:d,addMood:o,fetchCommutes:n,fetchMoods:c}};function p(){let[e,t]=(0,i.useState)([]),[s,r]=(0,i.useState)([]),[l,n]=(0,i.useState)("moods"),{moods:c,commutes:d,loading:o}=g();(0,i.useEffect)(()=>{let e=new Date,s=new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime(),a=s+864e5,i=c.filter(e=>e.timestamp>=s&&e.timestamp<a).sort((e,t)=>t.timestamp-e.timestamp),l=d.filter(e=>e.timestamp>=s&&e.timestamp<a).sort((e,t)=>t.timestamp-e.timestamp);t(i),r(l)},[c,d]);let u=e=>new Date(e).toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"});return o?(0,a.jsx)("div",{className:"bg-github-card border border-github-border rounded-lg p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-center h-32",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-github-green"}),(0,a.jsx)("span",{className:"ml-2 text-github-text",children:"피드 로딩 중..."})]})}):(0,a.jsxs)("div",{className:"bg-github-card border border-github-border rounded-lg",children:[(0,a.jsx)("div",{className:"border-b border-github-border",children:(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsxs)("button",{onClick:()=>n("moods"),className:"flex-1 py-3 px-4 text-sm font-medium transition-colors ".concat("moods"===l?"text-github-green border-b-2 border-github-green":"text-github-muted hover:text-github-text"),children:["\uD83D\uDE0A 기분 (",e.length,")"]}),(0,a.jsxs)("button",{onClick:()=>n("commutes"),className:"flex-1 py-3 px-4 text-sm font-medium transition-colors ".concat("commutes"===l?"text-github-green border-b-2 border-github-green":"text-github-muted hover:text-github-text"),children:["⏰ 출퇴근 (",s.length,")"]})]})}),(0,a.jsx)("div",{className:"p-6",children:"moods"===l?(0,a.jsxs)("div",{className:"space-y-4",children:[e.length>0?e.slice(0,5).map((e,t)=>(0,a.jsx)(m.A,{mood:e},"".concat(e.timestamp,"-").concat(t))):(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)("div",{className:"text-3xl mb-3",children:"\uD83D\uDE34"}),(0,a.jsx)("div",{className:"text-github-muted",children:"아직 아무도 기분을 공유하지 않았어요."}),(0,a.jsx)("div",{className:"text-github-muted text-sm mt-2",children:"첫 번째로 기분을 공유해보세요!"})]}),e.length>5&&(0,a.jsx)("div",{className:"text-center pt-4",children:(0,a.jsxs)("div",{className:"text-github-muted text-sm",children:["+",e.length-5,"개의 기분 더 보기"]})})]}):(0,a.jsxs)("div",{className:"space-y-3",children:[s.length>0?s.slice(0,8).map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-github-bg rounded-md",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"text-lg ".concat("출근"===e.type?"text-github-green":"text-orange-500"),children:"출근"===e.type?"\uD83C\uDF05":"\uD83C\uDFE0"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-github-text font-medium",children:e.nickname}),(0,a.jsx)("div",{className:"text-github-muted text-sm",children:e.type})]})]}),(0,a.jsx)("div",{className:"text-github-muted text-sm",children:u(e.timestamp)})]},e.id)):(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)("div",{className:"text-3xl mb-3",children:"⏰"}),(0,a.jsx)("div",{className:"text-github-muted",children:"아직 아무도 출퇴근을 기록하지 않았어요."}),(0,a.jsx)("div",{className:"text-github-muted text-sm mt-2",children:"첫 번째로 출근/퇴근을 기록해보세요!"})]}),s.length>8&&(0,a.jsx)("div",{className:"text-center pt-4",children:(0,a.jsxs)("div",{className:"text-github-muted text-sm",children:["+",s.length-8,"개의 기록 더 보기"]})})]})})]})}let j=["즐거운","신나는","평온한","활기찬","차분한","열정적인","창의적인","꼼꼼한","친절한","유쾌한","진지한","유연한","성실한","도전적인","긍정적인","배려하는","책임감있는","협력하는"],f=["개발자","디자이너","기획자","마케터","영업사원","회계사","의사","교사","엔지니어","작가","예술가","요리사","운동선수","음악가","사진작가","여행자","독서가","요가인"];var v=s(2056),N=s(1368),y=s(9137),w=s.n(y),D=s(1001),k=s.n(D);function S(e){let{moods:t}=e,[s,r]=(0,i.useState)([]);return(0,i.useEffect)(()=>{let e=[],s=new Date;for(let a=364;a>=0;a--){let i=new Date(s);i.setDate(i.getDate()-a);let r=i.toISOString().split("T")[0],l=new Date(i.getFullYear(),i.getMonth(),i.getDate()).getTime(),n=l+864e5,c=t.filter(e=>e.timestamp>=l&&e.timestamp<n);if(c.length>0){let t={};c.forEach(e=>{t[e.emoji]=(t[e.emoji]||0)+1});let s=Object.entries(t).sort((e,t)=>{let[,s]=e,[,a]=t;return a-s})[0][0],a=c.sort((e,t)=>t.timestamp-e.timestamp)[0];e.push({date:r,count:c.length,mood:s,message:a.message,nickname:a.nickname})}else e.push({date:r,count:0,mood:"",message:"",nickname:""})}r(e)},[t]),(0,a.jsxs)("div",{className:"jsx-fdae2015dcb17b9d bg-github-card border border-github-border rounded-lg p-6",children:[(0,a.jsxs)("h2",{className:"jsx-fdae2015dcb17b9d text-github-text font-medium mb-4 flex items-center",children:[(0,a.jsx)("span",{className:"jsx-fdae2015dcb17b9d w-2 h-2 rounded-full bg-green-400 mr-2"}),"기분 분포 (365일)"]}),(0,a.jsx)("div",{className:"jsx-fdae2015dcb17b9d overflow-x-auto",children:(0,a.jsx)(k(),{startDate:new Date(new Date().setDate(new Date().getDate()-364)),endDate:new Date,values:s,classForValue:e=>e?"color-scale-".concat(Math.min(e.count,4)):"color-empty",titleForValue:e=>e&&0!==e.count?"".concat(e.date,": ").concat(e.mood," ").concat(e.nickname,' - "').concat(e.message,'"'):"".concat(null==e?void 0:e.date,": 기록 없음")})}),(0,a.jsx)(w(),{id:"fdae2015dcb17b9d",children:'.react-calendar-heatmap{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Helvetica,Arial,sans-serif}.react-calendar-heatmap .color-empty{fill:#161b22}.react-calendar-heatmap .color-scale-0{fill:#161b22}.react-calendar-heatmap .color-scale-1{fill:#0e4429}.react-calendar-heatmap .color-scale-2{fill:#006d32}.react-calendar-heatmap .color-scale-3{fill:#26a641}.react-calendar-heatmap .color-scale-4{fill:#39d353}.react-calendar-heatmap text{fill:#8b949e;font-size:10px}.react-calendar-heatmap .react-calendar-heatmap-small-text{font-size:5px}.react-calendar-heatmap rect:hover{stroke:#f78166;stroke-width:1px}'})]})}function C(){let{nickname:e,isLoading:t,recordCommute:s,getTodayCommute:l,getTodayLeave:c,hasCommutedToday:d,hasLeftToday:m,uuid:u}=function(){let[e,t]=(0,i.useState)([]),[s,a]=(0,i.useState)(""),[r,l]=(0,i.useState)(""),[n,c]=(0,i.useState)(!1),{commutes:d,addCommute:o}=g();(0,i.useEffect)(()=>{let e=localStorage.getItem("go-home-nickname");if(e)a(e);else{let e=function(){let e=j[Math.floor(Math.random()*j.length)],t=f[Math.floor(Math.random()*f.length)],s=Math.floor(9999*Math.random())+1;return"".concat(e).concat(t).concat(s)}();a(e),localStorage.setItem("go-home-nickname",e)}let t=(0,v.ND)();if(t)l(t);else{let e=(0,N.A)();(0,v.J9)(e),l(e)}},[]),(0,i.useEffect)(()=>{let e=new Date,s=new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime(),a=s+864e5;t(d.filter(e=>e.uuid===r&&e.timestamp>=s&&e.timestamp<a))},[d,r]);let m=async e=>{c(!0);try{let t={uuid:r,type:e,timestamp:Date.now(),nickname:s};return await o(t),t}catch(e){throw console.error("Failed to record commute:",e),e}finally{c(!1)}};return{todayRecords:e,nickname:s,isLoading:n,recordCommute:m,getTodayCommute:()=>e.find(e=>"출근"===e.type),getTodayLeave:()=>e.find(e=>"퇴근"===e.type),hasCommutedToday:()=>Array.isArray(e)&&e.some(e=>"출근"===e.type),hasLeftToday:()=>Array.isArray(e)&&e.some(e=>"퇴근"===e.type),uuid:r}}(),{addMood:h,commutes:x,moods:b}=g(),[y,w]=(0,i.useState)(!1);(0,i.useEffect)(()=>{document.documentElement.classList.add("dark")},[]);let D=async e=>{try{await s(e)}catch(e){console.error("Commute recording failed:",e)}},k=async(t,s)=>{w(!0);try{let a={emoji:t,message:s,timestamp:Date.now(),nickname:e};await h(a),alert("기분이 성공적으로 공유되었습니다!")}catch(e){console.error("Mood submission failed:",e),alert("기분 공유에 실패했습니다. 다시 시도해주세요.")}finally{w(!1)}},C=e=>new Date(e).toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"});return(0,a.jsxs)("div",{className:"min-h-screen bg-github-bg text-github-text",children:[(0,a.jsx)("header",{className:"border-b border-github-border bg-github-card",children:(0,a.jsx)("div",{className:"max-w-4xl mx-auto px-4 py-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"text-2xl",children:"\uD83C\uDFE0"}),(0,a.jsx)("h1",{className:"text-xl font-bold",children:"아 집에가고싶다"})]}),(0,a.jsx)("div",{className:"text-github-muted text-sm",children:e})]})})}),(0,a.jsx)("main",{className:"max-w-6xl mx-auto px-4 py-8",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[(0,a.jsxs)("div",{className:"lg:col-span-1 space-y-6",children:[(0,a.jsx)("div",{className:"bg-github-card border border-github-border rounded-lg p-6",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"w-24 h-24 bg-github-green rounded-full flex items-center justify-center text-3xl font-bold text-white mx-auto mb-4",children:e.charAt(0).toUpperCase()}),(0,a.jsx)("h2",{className:"text-github-text font-bold text-lg mb-2",children:e}),(0,a.jsx)("p",{className:"text-github-muted text-sm mb-4",children:"개발자 • 데이터 분석가"}),(0,a.jsxs)("div",{className:"space-y-2 text-sm",children:[l()&&(0,a.jsxs)("div",{className:"flex items-center justify-between p-2 bg-github-bg rounded",children:[(0,a.jsx)("span",{className:"text-github-muted",children:"출근"}),(0,a.jsx)("span",{className:"text-github-green font-medium",children:C(l().timestamp)})]}),c()&&(0,a.jsxs)("div",{className:"flex items-center justify-between p-2 bg-github-bg rounded",children:[(0,a.jsx)("span",{className:"text-github-muted",children:"퇴근"}),(0,a.jsx)("span",{className:"text-orange-400 font-medium",children:C(c().timestamp)})]})]})]})}),(0,a.jsxs)("div",{className:"bg-github-card border border-github-border rounded-lg p-6",children:[(0,a.jsx)("h3",{className:"text-github-text font-medium mb-4",children:"오늘의 출퇴근"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(r,{type:"출근",onClick:()=>D("출근"),isLoading:t,hasRecorded:d(),recordTime:l()?C(l().timestamp):void 0}),(0,a.jsx)(r,{type:"퇴근",onClick:()=>D("퇴근"),isLoading:t,hasRecorded:m(),recordTime:c()?C(c().timestamp):void 0})]})]}),(0,a.jsx)(n,{onSubmit:k,isLoading:y,disabled:t})]}),(0,a.jsxs)("div",{className:"lg:col-span-3 space-y-6",children:[(0,a.jsx)(o,{commutes:x,moods:b,myUuid:u}),(0,a.jsx)(S,{moods:b}),(0,a.jsx)(p,{})]})]})}),(0,a.jsx)("footer",{className:"border-t border-github-border bg-github-card mt-12",children:(0,a.jsx)("div",{className:"max-w-4xl mx-auto px-4 py-6",children:(0,a.jsxs)("div",{className:"text-center text-github-muted text-sm",children:[(0,a.jsx)("p",{children:"“오늘도 출근했습니다. 그리고 기분은요...”"}),(0,a.jsx)("p",{className:"mt-2",children:"\xa9 2024 아 집에가고싶다"})]})})})]})}s(5382)}},e=>{var t=t=>e(e.s=t);e.O(0,[799,647,590,441,684,358],()=>t(8400)),_N_E=e.O()}]);