"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[829],{16632:(e,s,a)=>{a.d(s,{A:()=>n});var t=a(95155),l=a(66695),c=a(91394),i=a(52814);function r(e){let{mood:s}=e;return(0,t.jsx)(l.Zp,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,t.jsx)(c.eu,{className:"h-8 w-8",children:(0,t.jsx)(c.q5,{children:s.nickname.slice(0,2)})}),(0,t.jsxs)("div",{className:"flex-1 space-y-1",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-sm font-medium",children:s.nickname}),(0,t.jsx)(i.E,{variant:"outline",className:"text-xs",children:new Date(s.timestamp).toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"})})]}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:s.message})]}),s.emoji&&(0,t.jsx)("div",{className:"text-lg",children:s.emoji})]})})}function n(e){let{moods:s}=e,a=new Date,l=new Date(a.getFullYear(),a.getMonth(),a.getDate()).getTime(),c=l+864e5,i=s.filter(e=>e.timestamp>=l&&e.timestamp<c).sort((e,s)=>s.timestamp-e.timestamp);return(0,t.jsx)("div",{className:"space-y-4",children:i.length>0?i.map((e,s)=>(0,t.jsx)(r,{mood:e},"".concat(e.timestamp,"-").concat(s))):(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)("div",{className:"text-4xl mb-3",children:"\uD83D\uDE34"}),(0,t.jsx)("div",{className:"text-muted-foreground",children:"아직 아무도 기분을 공유하지 않았어요."}),(0,t.jsx)("div",{className:"text-muted-foreground text-sm mt-2",children:"첫 번째로 기분을 공유해보세요!"})]})})}},50210:(e,s,a)=>{a.r(s),a.d(s,{default:()=>f});var t=a(95155),l=a(12115),c=a(19169),i=a(5200),r=a(66695),n=a(84801),d=a(89051),m=a(59434);let x=l.forwardRef((e,s)=>{let{className:a,children:l,...c}=e;return(0,t.jsxs)(d.bL,{ref:s,className:(0,m.cn)("relative overflow-hidden",a),...c,children:[(0,t.jsx)(d.LM,{className:"h-full w-full rounded-[inherit]",children:l}),(0,t.jsx)(h,{}),(0,t.jsx)(d.OK,{})]})});x.displayName=d.bL.displayName;let h=l.forwardRef((e,s)=>{let{className:a,orientation:l="vertical",...c}=e;return(0,t.jsx)(d.VM,{ref:s,orientation:l,className:(0,m.cn)("flex touch-none select-none transition-colors","vertical"===l&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===l&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",a),...c,children:(0,t.jsx)(d.lr,{className:"relative flex-1 rounded-full bg-border"})})});h.displayName=d.VM.displayName;var o=a(51154),j=a(16632),u=a(89304);function p(e){let{scores:s,gameType:a}=e;return(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"text-center font-bold text-lg mb-2",children:[a," 랭킹 TOP 10"]}),s.length>0?(0,t.jsx)("div",{className:"rounded-md border",children:(0,t.jsxs)("table",{className:"w-full text-sm",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b bg-muted/50",children:[(0,t.jsx)("th",{className:"py-2 px-3 text-left",children:"순위"}),(0,t.jsx)("th",{className:"py-2 px-3 text-left",children:"닉네임"}),(0,t.jsx)("th",{className:"py-2 px-3 text-left",children:"점수"}),(0,t.jsx)("th",{className:"py-2 px-3 text-left",children:"날짜"})]})}),(0,t.jsx)("tbody",{children:s.map((e,s)=>(0,t.jsxs)("tr",{className:"border-b ".concat(0===s?"bg-yellow-100/30 dark:bg-yellow-900/20":1===s?"bg-gray-100/30 dark:bg-gray-800/20":2===s?"bg-orange-100/20 dark:bg-orange-900/10":""),children:[(0,t.jsxs)("td",{className:"py-2 px-3 font-medium flex items-center gap-1",children:[0===s&&(0,t.jsx)("span",{children:"\uD83E\uDD47"}),1===s&&(0,t.jsx)("span",{children:"\uD83E\uDD48"}),2===s&&(0,t.jsx)("span",{children:"\uD83E\uDD49"}),s+1]}),(0,t.jsx)("td",{className:"py-2 px-3",children:e.nickname}),(0,t.jsx)("td",{className:"py-2 px-3",children:e.score}),(0,t.jsx)("td",{className:"py-2 px-3",children:e.created_at.slice(0,10)})]},e.id))})]})}):(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)("div",{className:"text-4xl mb-3",children:"꼬맨틀"===a?"\uD83D\uDCDD":"\uD83E\uDD96"}),(0,t.jsxs)("div",{className:"text-muted-foreground",children:["아직 ",a," 기록이 없습니다."]})]})]})}let N=(0,l.forwardRef)((e,s)=>{let[a,d]=(0,l.useState)("moods"),{fetchMoods:m,fetchCommutes:h,fetchDinoScores:N,fetchCommantleScores:f}=(0,i._)(),{data:g,isLoading:v}=(0,c.Ay)("moods",m),{data:y,isLoading:b}=(0,c.Ay)("commutes",h),{data:D,isLoading:w}=(0,c.Ay)("dinoScores",N),{data:k,isLoading:A}=(0,c.Ay)("commantleScores",f);return(0,l.useImperativeHandle)(s,()=>({setActiveTab:d})),(0,t.jsx)(r.Zp,{children:(0,t.jsxs)(n.tU,{value:a,onValueChange:e=>d(e),children:[(0,t.jsx)(r.aR,{className:"px-0 pt-0",children:(0,t.jsxs)(n.j7,{className:"grid w-full grid-cols-4",children:[(0,t.jsx)(n.Xi,{value:"moods",children:"\uD83D\uDE0A 기분"}),(0,t.jsx)(n.Xi,{value:"commutes",children:"⏰ 출퇴근"}),(0,t.jsx)(n.Xi,{value:"commantle",children:"\uD83D\uDCDD 꼬맨틀"}),(0,t.jsx)(n.Xi,{value:"dino",children:"\uD83E\uDD96 디노 러너"})]})}),(0,t.jsx)(r.Wu,{children:v||b||w||A?(0,t.jsxs)("div",{className:"flex items-center justify-center h-32",children:[(0,t.jsx)(o.A,{className:"h-6 w-6 animate-spin mr-2"}),(0,t.jsx)("span",{children:"피드 로딩 중..."})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.av,{value:"moods",className:"mt-0",children:(0,t.jsx)(x,{className:"h-[400px] pr-4",children:(0,t.jsx)(j.A,{moods:g||[]})})}),(0,t.jsx)(n.av,{value:"commutes",className:"mt-0",children:(0,t.jsx)(x,{className:"h-[400px] pr-4",children:(0,t.jsx)(u.A,{commutes:y||[]})})}),(0,t.jsx)(n.av,{value:"commantle",className:"mt-0",children:(0,t.jsx)(x,{className:"h-[400px] pr-4",children:(0,t.jsx)(p,{scores:k||[],gameType:"꼬맨틀"})})}),(0,t.jsx)(n.av,{value:"dino",className:"mt-0",children:(0,t.jsx)(x,{className:"h-[400px] pr-4",children:(0,t.jsx)(p,{scores:D||[],gameType:"디노 러너"})})})]})})]})})});N.displayName="FeedSection";let f=N},89304:(e,s,a)=>{a.d(s,{A:()=>d});var t=a(95155),l=a(66695),c=a(91394),i=a(52814),r=a(15163),n=a(57340);function d(e){let{commutes:s}=e,a=new Date,d=new Date(a.getFullYear(),a.getMonth(),a.getDate()).getTime(),m=d+864e5,x=s.filter(e=>e.timestamp>=d&&e.timestamp<m).sort((e,s)=>s.timestamp-e.timestamp),h=e=>new Date(e).toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"});return(0,t.jsx)("div",{className:"space-y-3",children:x.length>0?x.map(e=>(0,t.jsx)(l.Zp,{className:"p-3",children:(0,t.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,t.jsx)(c.eu,{className:"h-8 w-8",children:(0,t.jsx)(c.q5,{children:"출근"===e.type?(0,t.jsx)(r.A,{className:"h-4 w-4"}):(0,t.jsx)(n.A,{className:"h-4 w-4"})})}),(0,t.jsxs)("div",{className:"flex-1 space-y-1",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-sm font-medium",children:e.nickname}),(0,t.jsx)(i.E,{variant:"outline",className:"text-xs",children:h(e.timestamp)})]}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"출근"===e.type?"출근 완료":"퇴근 완료"})]}),(0,t.jsx)("div",{className:"text-lg",children:"출근"===e.type?"\uD83C\uDF05":"\uD83C\uDFE0"})]})},e.id)):(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)("div",{className:"text-4xl mb-3",children:"⏰"}),(0,t.jsx)("div",{className:"text-muted-foreground",children:"아직 아무도 출퇴근을 기록하지 않았어요."}),(0,t.jsx)("div",{className:"text-muted-foreground text-sm mt-2",children:"첫 번째로 출근/퇴근을 기록해보세요!"})]})})}}}]);